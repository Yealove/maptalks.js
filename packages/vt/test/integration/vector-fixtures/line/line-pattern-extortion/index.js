// https://github.com/maptalks/issues/issues/713
const path = require('path');
const maptalks = require('maptalks');

const coordinates = [
    [
        117.202467656767,
        31.0496794910236,
        1
    ],
    [
        117.2024676354,
        31.0480381333182,
        1
    ],
    [
        117.202666962317,
        31.0480394612168,
        1
    ],
    [
        117.202666987102,
        31.0496794889658,
        1
    ],
    [
        117.202866315424,
        31.0495625580572,
        1
    ],
    [
        117.202866289239,
        31.0480407888091,
        1
    ],
    [
        117.202355908847,
        31.0480355901738,
        1
    ],
    [
        117.202268306228,
        31.0478298220548,
        1
    ],
    [
        117.202268326433,
        31.0496794927749,
        1
    ],
    [
        117.202068996099,
        31.0496794942198,
        1
    ],
    [
        117.202068976799,
        31.0474935041988,
        1
    ],
    [
        117.201869651043,
        31.0474935053372,
        1
    ],
    [
        117.201869664986,
        31.0495638289365,
        1
    ],
    [
        117.201765745919,
        31.0494800028165,
        1
    ],
    [
        117.201670334484,
        31.0494755329588,
        1
    ],
    [
        117.201670325287,
        31.0474935061693,
        1
    ],
    [
        117.201470999531,
        31.047493506695,
        1
    ],
    [
        117.201471004563,
        31.049469954137,
        1
    ],
    [
        117.201271674665,
        31.0494643750088,
        1
    ],
    [
        117.201271673775,
        31.0474935069143,
        1
    ],
    [
        117.201072347942,
        31.0475407600708,
        1
    ],
    [
        117.20107234497,
        31.0493497303221,
        1
    ],
    [
        117.200873015772,
        31.0492305688791,
        1
    ],
    [
        117.200873021749,
        31.0476311373622,
        1
    ],
    [
        117.200673695178,
        31.0477215143473,
        1
    ],
    [
        117.20067368858,
        31.0488529864983,
        1
    ],
    [
        117.200474362096,
        31.0485856164561,
        1
    ],
    [
        117.200474368214,
        31.0478136896692,
        1
    ],
    [
        117.200474368229,
        31.047811891026,
        1
    ],
    [
        117.201710522883,
        31.0485861095962,
        1
    ]
];

const line1 = new maptalks.LineString(coordinates, {
    symbol: {
        linePatternFile: 'file://' + path.resolve(__dirname, 'arrow.png'),
        lineJoin: 'bevel',
        lineWidth: 12
    }
});

// reverse the coordinates
const line2 = new maptalks.LineString(coordinates.reverse(), {
    symbol: {
        linePatternFile: 'file://' + path.resolve(__dirname, 'arrow.png'),
        lineJoin: 'miter',
        lineWidth: 12
    }
}).translate(0, 0.0024);


module.exports = {
    containerWidth: 512,
    containerHeight: 512,
    data: [line1, line2],
    view: {
        center: [117.202467656767,31.0496794910236],
        zoom: 17
    }
};
